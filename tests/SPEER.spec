database: SPEER.db
id: SSN
    
SPEERparams { BFLD: 6
              TOTSIC: 9
              NEDFF: 5
            }

SPEERfields { A1900 1 0.06
              A1821 2 0.25
              A1800 3 0.3
              A1741 4 0.75
              A1742 5 0.5
              A1798 6 1.4
            }

ExpRatios {
624110 A1741 A1800 0.0                  1.7054159527  0.4920901
624110 A1742 A1800 0.00000013730672   227.9897249     0.0463749
624110 A1798 A1800 0.0                  2.4268455907  0.6030872
624110 A1800 A1821 1.0653982621         4.8587362328  2.1449119
624110 A1900 A1800 0.8583917377         1.104842964   0.9786502
624120 A1741 A1800 0.0                  1.4414980309  0.4758003
624120 A1742 A1800 0.0                  0.3093747854  0.0045976
624120 A1798 A1800 0.0                  2.9402415373  0.6654582
624120 A1800 A1821 0.4404866568        10.868740379   2.4008164
624120 A1900 A1800 0.6225329707         1.3661672137  0.9721846
624190 A1741 A1800 0.0                  2.2228592785  0.6815651
624190 A1742 A1800 0.0000010640721     38.141266678   0.0186089
624190 A1798 A1800 0.0                  9.7175238834  0.3843776
624190 A1800 A1821 0.5427852002        10.627297474   2.8873754
624190 A1900 A1800 0.8601969253         1.1195708586  0.9797632
624210 A1741 A1800 0.0                  1.8607718093  0.8128141
624210 A1742 A1800 0.000001.1227398     4.7632689598  0.0110712
624210 A1798 A1800 0.0                  6.3025788734  0.1954663
624210 A1800 A1821 0.0222435255      1806.0618456    10.6959067
624210 A1900 A1800 0.6621006966         1.3154702824  0.953693 
624221 A1741 A1800 0.0529989146         1.6788784421  0.7972775
624221 A1742 A1800 0.0                  0.9857061246  0.0243686
624221 A1798 A1800 0.0                  5.8632807499  0.2660947
624221 A1800 A1821 0.7047835927         6.5480387302  2.2791893
624221 A1900 A1800 0.6862862742         1.3478869966  0.978072 
624229 A1741 A1800 0.0                  2.4120238591  0.5579296
624229 A1742 A1800 0.0                  3.6126954062  0.1059713
624229 A1798 A1800 0.0                  8.3871732727  0.4261337
624229 A1800 A1821 0.2685620025        40.158413339   3.0708986
624229 A1900 A1800 0.3942050589         2.1272964612  0.953948 
624230 A1741 A1800 0.0                  2.0226503158  0.9568021
624230 A1742 A1800 0.000000042926459  652.42488415    0.0066574
624230 A1798 A1800 0.0                  6.8329788954  0.0436908
624230 A1800 A1821 0.0500524125       331.31975316   11.8692149
624230 A1900 A1800 0.1688249152         1.7162333448  0.951409 
624310 A1741 A1800 0.0                 21.215834792   0.3760749
624310 A1742 A1800 0.0                  0.5901897316  0.0202171
624310 A1798 A1800 0.0                  2.7015323527  0.7201334
624310 A1800 A1821 0.7160980615         5.7497217826  2.1176042
624310 A1900 A1800 0.666521056          1.353847079   0.9554392
624410 A1741 A1800 0.0                  3.4217612116  0.7391178
624410 A1742 A1800 0.0000001771936     32.102155111   0.0092052
624410 A1798 A1800 0.0                  2.8603060206  0.3903214
624410 A1800 A1821 0.7430070164         4.9138829922  2.1909161
624410 A1900 A1800 0.8536471201         1.1261258635  0.9897789
          }


input {
    overwrite: yes
    input file: dc_pums_08.csv
    output table: dc
	types {
		AGEP: integer
		CATAGE: integer
	}
}

fields  {
    AGEP: int 0-116
    SEX: cat 1, 2, NA
    state: cat AL, AK, AS, AZ, AR, CA, CO, CT, DE, DC, FM, FL,     \
          GA, GU, HI, ID, IL, IN, IA, KS, KY, LA, ME, MH, MD, MA, \
          MI, MN, MS, MO, MT, NE, NV, NH, NJ, NM, NY, NC, ND, MP, \
          OH, OK, OR, PW, PA, PR, RI, SC, SD, TN, TX, UT, VT, VI, \
          VA, WA, WV, WI, WY, AE, AA, AE
    WAGP: real

    # SCHL represents "educational attainment"
    SCHL: int 0-24
    logWAGP: real
}

recodes  {
	CATAGE {
		1|AGEP between 0 and 15
		2|AGEP between 16 and 64
		3|
	}

    HAS_INCOME {
           1 | WAGP > 0
           0 |
    }

   	SSN: SERIALNO*100+SPORDER

	logWAGP: log(WAGP+1)
}

checks {
	AGEP < 0 
	AGEP > 95 => AGEP = 95

	SCHL < 0
	SCHL > 16

	WAGP < 0
	WAGP > 600000

	logWAGP > 10
}

